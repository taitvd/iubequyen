<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Thi·ªáp 20/10 cho Em</title>
  <style>
    :root{
      --bg:#fff5f8;           /* n·ªÅn t·ªïng th·ªÉ */
      --pink:#ff7aa2;         /* h·ªìng ƒë·∫≠m */
      --pink-2:#ff98b9;       /* h·ªìng nh·∫°t */
      --purple:#a78bfa;       /* t√≠m pastel */
      --yellow:#ffd166;       /* v√†ng pastel */
      --ink:#2a2a2a;          /* ch·ªØ */
      --card:#ffffff;         /* m√†u gi·∫•y thi·ªáp */
      --shadow: 0 20px 60px rgba(0,0,0,.18), 0 8px 24px rgba(0,0,0,.12);
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html, body { height: 100%; }
    body{
      margin: 0; background: var(--bg);
      font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Inter, Arial, Apple Color Emoji, Segoe UI Emoji;
      color: var(--ink);
      display:flex; align-items:center; justify-content:center;
      padding: env(safe-area-inset-top, 12px) env(safe-area-inset-right, 12px) env(safe-area-inset-bottom, 12px) env(safe-area-inset-left, 12px);
      background-image:
        radial-gradient(circle at 20% 10%, rgba(255,152,185,.25), transparent 45%),
        radial-gradient(circle at 80% 0%, rgba(167,139,250,.18), transparent 40%),
        radial-gradient(circle at 50% 100%, rgba(255,209,102,.25), transparent 45%);
      background-attachment: fixed;
    }

    /* Khung t·ª∑ l·ªá 9:19.5 g·∫ßn v·ªõi iPhone 12 Pro Max */
    .frame{
      width: min(92vw, 430px);
      aspect-ratio: 9 / 19.5;
      position: relative;
      filter: drop-shadow(0 20px 40px rgba(0,0,0,.18));
      perspective: 1200px;
    }

    /* Vi·ªÅn ƒëi·ªán tho·∫°i nh·∫π cho vibe mobile */
    .phone-bezel{
      position:absolute; inset:0;
      border-radius: 28px; padding: 12px; background: linear-gradient(180deg,#111,#333);
    }
    .phone-notch{
      position:absolute; top:8px; left:50%; transform:translateX(-50%);
      width: 42%; height: 18px; background:#000; border-bottom-left-radius:12px; border-bottom-right-radius:12px;
      filter: drop-shadow(0 2px 2px rgba(0,0,0,.35));
    }

    .screen{
      position:absolute; inset:12px;
      border-radius: 22px; overflow:hidden; background: var(--bg);
      display:grid; place-items:center;
    }

    /* THI·ªÜP */
    .card-wrap{
      width: 94%; height: 92%; position: relative;
      perspective: 1400px; display:grid; place-items:center;
    }

    .card{
      width: 100%; max-width: 360px; height: 66%;
      transform-style: preserve-3d; transition: transform .9s cubic-bezier(.2,.8,.2,1);
      position: relative;
    }

    .open .card{ transform: rotateY(-160deg) translateZ(0); }

    /* B√¨a thi·ªáp */
    .cover, .inside{
      position:absolute; inset:0; border-radius: 18px; box-shadow: var(--shadow);
      backface-visibility: hidden; overflow:hidden;
    }

    .cover{
      background:
        radial-gradient(120px 120px at 85% 15%, rgba(255,152,185,.45), transparent 65%),
        radial-gradient(160px 160px at 10% 90%, rgba(167,139,250,.35), transparent 60%),
        linear-gradient(135deg, #ffe3ec, #fff5f8 60%);
      display:flex; flex-direction:column; align-items:center; justify-content:center; gap:14px;
    }

    .title{ font-weight:800; font-size:28px; letter-spacing:.5px; text-align:center; position:relative; color:var(--ink); text-shadow:0 1px 0 rgba(255,255,255,.7);} 
/* text gradient ch·ªâ √°p d·ª•ng cho ph·∫ßn ch·ªØ, KH√îNG √°p d·ª•ng cho emoji */
.gradient-text{ background:linear-gradient(90deg,var(--pink),var(--purple)); -webkit-background-clip:text; background-clip:text; color:transparent; -webkit-text-fill-color:transparent; }
/* emoji hi·ªÉn th·ªã m√†u g·ªëc */
.title .emoji{ display:inline-block; -webkit-text-fill-color:initial !important; color:initial !important; animation:heartbeat 1.2s infinite; transform-origin:center; }

    .sub{ font-size: 14px; opacity:.8; text-align:center; margin-top:-4px; }

    .heart-row{ display:flex; gap:8px; }
    .heart{ width:16px; height:16px; position:relative; animation: float 3s ease-in-out infinite; }
    .heart::before, .heart::after{
      content:""; position:absolute; width:50%; height:80%; background: var(--pink);
      border-radius: 50% 50% 0 0; transform-origin: bottom;
    }
    .heart::before{ left:50%; transform:translateX(-100%) rotate(-45deg); }
    .heart::after{ left:50%; transform:translateX(0) rotate(45deg); }
    @keyframes float{ 0%,100%{ transform: translateY(0)} 50%{ transform: translateY(-6px)} }

    .btn{
      border:none; outline:none; padding: 12px 18px; border-radius: 999px; cursor:pointer;
      background: linear-gradient(90deg, var(--pink), var(--pink-2)); color:#fff; font-weight:700;
      box-shadow: 0 10px 18px rgba(255,122,162,.35);
      transition: transform .15s ease, box-shadow .15s ease; font-size: 15px;
    }
    .btn:active{ transform: translateY(2px); box-shadow: 0 6px 12px rgba(255,122,162,.35); }

    /* M·∫∑t trong thi·ªáp */
    .inside{
      background: var(--card); transform: rotateY(180deg); display:flex; flex-direction:column; align-items:center; justify-content:center; gap:10px; padding: 22px;
      background-image: radial-gradient(circle at 10% 10%, rgba(255,152,185,.16), transparent 40%), radial-gradient(circle at 90% 85%, rgba(167,139,250,.14), transparent 40%);
    }

    .ribbon{
      position:absolute; top:0; left:0; right:0; height: 62px; background:
        linear-gradient(90deg, var(--yellow), #ffd98a 60%, var(--yellow));
      display:flex; align-items:center; justify-content:center; gap:8px; color:#6b4a00; font-weight:800; letter-spacing:.4px;
      box-shadow: 0 8px 16px rgba(0,0,0,.06); font-size: 14px;
    }

    .msg{
      margin-top: 70px; text-align:center; line-height:1.5; font-size: 16px; font-weight: 600;
    }

    .sign{ margin-top: 6px; font-size: 14px; opacity:.8; }

    .action-row{ position:absolute; bottom: 16px; display:flex; gap:10px; }
    .ghost{
      background:#fff; color: var(--pink); border:2px solid var(--pink); box-shadow:none;
    }

    /* Confetti canvas */
    canvas#confetti{ position:absolute; inset:0; pointer-events:none; }

    /* H∆∞·ªõng d·∫´n g√≥c m√†n h√¨nh */
    .hint{
      position:absolute; bottom: 10px; right: 16px; font-size: 12px; opacity:.7;
    }

    /* nh·ªè h∆°n 360px chi·ªÅu r·ªông */
    @media (max-width: 360px){ .title{ font-size:24px } }
  </style>
</head>
<body>
  <div class="frame" id="app">
    <div class="phone-bezel" aria-hidden="true"></div>
    <div class="phone-notch" aria-hidden="true"></div>
    <div class="screen">
      <div class="card-wrap" id="cardWrap">
        <canvas id="confetti"></canvas>
        <div class="card" aria-live="polite" aria-label="Thi·ªáp 20/10">
          <section class="cover" id="cover">
            <div class="heart-row" aria-hidden="true">
              <div class="heart" style="animation-delay:0s"></div>
              <div class="heart" style="animation-delay:.3s"></div>
              <div class="heart" style="animation-delay:.6s"></div>
            </div>
            <h1 class="title">
  <span class="gradient-text">T·∫∑ng em t√¨nh y√™u c·ªßa anh</span> <span class="emoji">üíñ</span>
</h1>
            <p class="sub">G√µ nh·∫π ƒë·ªÉ m·ªü thi·ªáp n√® ~</p>
            <button class="btn" id="openBtn" aria-controls="inside" aria-expanded="false">M·ªü thi·ªáp</button>
          </section>
          <section class="inside" id="inside" aria-hidden="true">
            <div class="ribbon">üåº Happy Vietnamese Women‚Äôs Day 20/10 üåº</div>
            <p class="msg">
              G·ª≠i em y√™u, c·∫£m ∆°n em v√¨ ƒë√£ ·ªü ƒë√¢y ‚Äì d·ªãu d√†ng nh∆∞ng si√™u m·∫°nh m·∫Ω. Ch√∫c em lu√¥n xinh, lu√¥n vui, m·ªçi ƒëi·ªÅu em mu·ªën ƒë·ªÅu t·ªõi ƒë√∫ng l√∫c. H√¥m nay em ch·ªâ vi·ªác r·∫°ng r·ª°, c√≤n l·∫°i ƒë·ªÉ anh lo! üíê
            </p>
            <div class="sign">‚Äî From Taiii, with love üíå</div>
            <div class="action-row">
              <button class="btn ghost" id="closeBtn" aria-controls="inside">ƒê√≥ng thi·ªáp</button>
              <button class="btn" id="replayBtn">B·∫Øn confetti üéâ</button>
            </div>
          </section>
        </div>
        <div class="hint">Tip: ch·∫°m b√¨a ƒë·ªÉ m·ªü/ƒë√≥ng</div>
      </div>
    </div>
  </div>

  <script>
    const wrap = document.getElementById('cardWrap');
    const openBtn = document.getElementById('openBtn');
    const closeBtn = document.getElementById('closeBtn');
    const cover = document.getElementById('cover');
    const inside = document.getElementById('inside');

    function setOpen(state){
      wrap.classList.toggle('open', state);
      openBtn.setAttribute('aria-expanded', state);
      inside.setAttribute('aria-hidden', !state);
      if(state) launchConfetti(1800);
    }

    openBtn.addEventListener('click', () => setOpen(true));
    closeBtn.addEventListener('click', () => setOpen(false));
    cover.addEventListener('click', (e)=>{
      if(e.target !== openBtn) setOpen(true);
    });
    inside.addEventListener('click', (e)=>{
      const isBtn = e.target.matches('button');
      if(!isBtn) setOpen(false);
    });

    document.getElementById('replayBtn').addEventListener('click', ()=> launchConfetti(1400));

    /* Tiny confetti */
    const cvs = document.getElementById('confetti');
    const ctx = cvs.getContext('2d');
    let W, H, pieces = [], rafId;

    function resize(){
      const rect = cvs.parentElement.getBoundingClientRect();
      W = cvs.width = Math.floor(rect.width);
      H = cvs.height = Math.floor(rect.height);
    }
    window.addEventListener('resize', resize, {passive:true});
    resize();

    function spawn(n=120){
      const palette = ['#ff7aa2','#ff98b9','#ffd166','#a78bfa','#8dd6ff'];
      for(let i=0;i<n;i++){
        pieces.push({
          x: Math.random()*W,
          y: -10 - Math.random()*H*0.25,
          r: 2 + Math.random()*4,
          s: 1 + Math.random()*2,
          a: Math.random()*Math.PI*2,
          c: palette[(Math.random()*palette.length)|0]
        });
      }
    }

    function draw(){
      ctx.clearRect(0,0,W,H);
      for(const p of pieces){
        p.y += p.s; p.x += Math.sin(p.a+=0.03)*0.9;
        ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fillStyle=p.c; ctx.fill();
      }
      pieces = pieces.filter(p=> p.y < H+8);
      if(pieces.length){ rafId = requestAnimationFrame(draw); }
    }

    function launchConfetti(duration=1500){
      cancelAnimationFrame(rafId); pieces = []; spawn(140); draw();
      const t = setInterval(()=> spawn(40), 220);
      setTimeout(()=> { clearInterval(t); }, duration);
    }
  </script>
</body>
</html>
